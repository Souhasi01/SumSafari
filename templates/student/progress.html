{% extends "base.html" %}
{% block title %}Progress â€” SumSafari{% endblock %}

{% block content %}
<div class="container mt-5">

  <h2 class="text-center mb-4" style="color: var(--jungle-green);">
    Your Progress
  </h2>

  <!-- Progress Cards -->
  <div class="row g-4 justify-content-center">
    {% if summaries %}
    {% for summary, topic_name in summaries %}
    <div class="col-md-5">
      <div class="card shadow-lg p-4 rounded-4" style="background: var(--soft-cream); border: none;">
        <h4 class="fw-bold" style="color: var(--jungle-green);">{{ topic_name }}</h4>

        <p class="mt-2"><strong>Accuracy:</strong> {{ summary.accuracy_percentage }}%</p>
        <p><strong>Attempts:</strong> {{ summary.attempts_count }}</p>
      </div>
    </div>
    {% endfor %}
    {% else %}
    <p class="text-center fw-bold mt-3">No progress yet. Start taking quizzes!</p>
    {% endif %}
  </div>

  <hr class="my-5">

  <!-- Badges Section -->
  <h3 class="text-center mb-3" style="color: black;">Your Badges</h3>

  <div class="row g-4 justify-content-center">
    {% if badges %}
    {% for badge in badges %}
    <div class="col-md-3">
      <div class="card shadow-lg text-center p-3 rounded-4" style="background: white; border: none;">
        <img src="{{ url_for('static', filename='images/badges/' + badge.icon_path) }}" alt="Badge" class="mx-auto mb-2"
          style="width: 100px;">
        <h5 class="fw-bold" style="color: var(--jungle-green);">
          {{ badge.badge_name }}
        </h5>
      </div>
    </div>
    {% endfor %}
    {% else %}
    <p class="text-center fw-bold mt-3">No badges earned yet. Keep going!</p>
    {% endif %}
  </div>

</div>
{% endblock %}